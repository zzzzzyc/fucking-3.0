# 变更日志

## [alpha 1.0] 25/3/17
### 初始版本
- 删除原有屎山
- 确定新架构设计
- 实现基本的蓝牙设备连接和控制
- 创建 WebSocket 服务器接口
- 添加命令行参数支持
- 实现插件系统架构

## [alpha 1.1] 25/3/20
### 新增
- 添加 WebUI 插件，提供基于网页的控制界面
- 添加配置文件支持

### 改进
- 优化蓝牙连接稳定性
- 改进错误处理和日志记录

## [alpha 1.2] 25/3/23
### 新增
- 添加 VRChat OSC 插件
- 实现距离模式和电击模式
- 添加波形预设系统

### 改进
- 优化 WebUI 界面
- 提高设备通信可靠性

## [alpha 1.3] 25/4/1
### 新增
- OSC 参数通配符支持
- 添加波形预设优化
- 新增设备监控插件

### 改进
- 修复配置加载和全局变量问题
- 改进异步任务管理
- 优化设备状态监控

### 修复
- 修复 `config` 变量未初始化问题
- 修复波形设置时的同步问题
- 解决设备断连后的重连逻辑


## [alpha 1.3.2] 
### 已合入alpha-1.4

## [alpha 1.4] 25/4/3
### 新增
- 添加强度节流机制，大幅提高蓝牙通信稳定性
- 新增强度转换系数配置，允许自定义体感强度
- 增加详细日志记录，便于问题定位
- 改进设备监控插件，使用公共接口代替直接访问

### 改进
- 优化VRChat OSC插件初始化逻辑，确保任务按顺序启动
- 增强错误处理和容错机制，提高长时间运行稳定性
- 改进节流任务的连续失败处理，自动恢复功能
- 提升参数映射精度，避免计算误差

### 修复
- 修复高频OSC消息导致的异步阻塞问题
- 解决设备监控插件访问不当属性导致的崩溃
- 修复配置加载顺序导致的空引用问题
- 修正节流任务可能未正确启动的问题

## [alpha 1.4.1] 25/4/4
### 新增
- 增强WebUI插件，支持扩展点机制，允许其他插件添加UI元素
- 实现AB通道同步功能，可同时控制两个通道输出
- 添加示例插件，演示如何创建和注册UI扩展
- 新增每日一言功能，显示随机名言警句

### 改进
- UI界面全面优化，提升用户体验和美观度
- 前后端通信架构优化，改用自定义事件分发机制
- 优化WebSocket消息处理逻辑，增强可扩展性
- 完善插件加载机制，确保正确的初始化顺序
- 强化日志记录系统，便于故障排查

### 修复
- 解决AB通道同步状态不同步的问题
- 修复设备监控插件与其他插件的交互冲突
- 修正WebUI界面在窄屏设备上的显示问题
- 解决某些UI元素在不同浏览器中的兼容性问题

## [alpha 1.5 计划]
### 计划功能
- 他妈的我要复现官方app所有功能！！！！(bushi)
- 支持多设备同时连接和控制
- 增加自定义波形编辑器
- 添加更多交互模式和触发方式